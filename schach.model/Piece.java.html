<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Piece.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">schach$BoardTest.exec</a> &gt; <a href="index.source.html" class="el_package">schach.model</a> &gt; <span class="el_source">Piece.java</span></div><h1>Piece.java</h1><pre class="source lang-java linenums">package schach.model;

import java.util.ArrayList;
import java.util.List;

/**
 * abstract class representing a chess piece
 */
public abstract class Piece {

    /**
     * The Square the Piece is currently occupying
     */
    protected Square position;

    /**
     * Boolean to indicate the color of the Piece
     */
    protected boolean isWhite;

    /**
     * Board that the piece are on
     */
    protected Board board;

    /**
     * List of Squares that the Square could be moved to by a legal move
     */
<span class="fc" id="L29">    protected List&lt;Square&gt; legalNextSquares = new ArrayList&lt;Square&gt;();</span>

    /**
     * Constructor of Piece
     * the square where the piece is placed, marked and gets the Piece Object passed
     * @param position denotation of the square where the piece will be initiated on
     * @param isWhite true if it is a piece of the white set, false if black
     * @param board the board where the piece will be played on
     */

<span class="fc" id="L39">    public Piece (Square position, boolean isWhite, Board board){</span>
<span class="fc" id="L40">        this.position = position;</span>
<span class="fc" id="L41">        this.isWhite = isWhite;</span>
<span class="fc" id="L42">        this.board = board;</span>
<span class="fc" id="L43">        position.setOccupied(true);</span>
<span class="fc" id="L44">        position.setOccupier(this);</span>
<span class="fc" id="L45">    }</span>

    /**
     * getter for the square the piece is currently positioned on
     * @return the square the piece is occupying
     */
    public Square getPosition(){
<span class="nc" id="L52">        return this.position;</span>
    }

    /**
     * abstract Method to print the piece
     * @return String that represents the piece
     */
    public abstract String print();

    /**
     * abstract Method to update the List of legal Squares
     */
    protected abstract void updateLegals();

    /**
     * abstract Method to move the Piece
     * checks if a given square is in the list of valid squares
     * @param target is the target square where the piece is moved to
     */
    public void move(Square target){
<span class="nc" id="L72">        updateLegals();</span>
<span class="nc bnc" id="L73" title="All 2 branches missed.">        for (Square square: legalNextSquares){</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">            if (square == target){</span>
<span class="nc" id="L75">                acceptMove(target);</span>
<span class="nc" id="L76">                return;</span>
            }
<span class="nc" id="L78">        }</span>
<span class="nc" id="L79">        refuseMove();</span>
<span class="nc" id="L80">    }</span>

    /**
     * allows the move to the target square
     * updates the position square of the Piece
     * @param target Square the Piece will be moved to
     */
    protected void acceptMove(Square target){
<span class="nc" id="L88">        position.setOccupied(false);</span>
<span class="nc" id="L89">        this.position = target;</span>
<span class="nc" id="L90">        position.setOccupied(true);</span>
<span class="nc" id="L91">        position.setOccupier(this);</span>
<span class="nc" id="L92">        updateLegals();</span>
<span class="nc" id="L93">    }</span>

    /**
     * Refuses invalid moves and prints Error Message
     */
    protected void refuseMove(){
<span class="nc" id="L99">        System.out.println(&quot;!Move is invalid&quot;);</span>
<span class="nc" id="L100">    }</span>

    /**
     * debug Method
     * //TODO delete
     */
    public void printLegals(){
<span class="nc bnc" id="L107" title="All 2 branches missed.">        for (int i = 0; i &lt; legalNextSquares.size(); i++){</span>
<span class="nc" id="L108">            System.out.println(legalNextSquares.get(i).getDenotation());</span>
        }
<span class="nc" id="L110">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>