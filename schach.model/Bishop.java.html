<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Bishop.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">schach$BoardTest.exec</a> &gt; <a href="index.source.html" class="el_package">schach.model</a> &gt; <span class="el_source">Bishop.java</span></div><h1>Bishop.java</h1><pre class="source lang-java linenums">package schach.model;

/**
 * Class Bishop representing the chess piece bishop
 */
public class Bishop extends Piece {

    /**
     * Constructor defining the position, color and board
     * @param position the Square the Bishop will be placed on initially
     * @param isWhite true if white, false if black
     * @param board the board the Bishop will be placed on
     */
    public Bishop(Square position, boolean isWhite, Board board) {
<span class="nc" id="L15">        super(position, isWhite, board);</span>
<span class="nc" id="L16">    }</span>

    @Override
    public String print() {
<span class="nc bnc" id="L20" title="All 2 branches missed.">        if (super.isWhite){</span>
<span class="nc" id="L21">            return &quot;\u2657&quot;;</span>
        }
        else {
<span class="nc" id="L24">            return &quot;\u265D&quot;;</span>
        }
    }

    @Override
    public void updateLegals() {
<span class="nc" id="L30">        legalNextSquares.clear();</span>

<span class="nc" id="L32">        int column = this.position.getColumn();</span>
<span class="nc" id="L33">        int row = this.position.getRow();</span>

<span class="nc" id="L35">        checkForwardRight(column, row);</span>
<span class="nc" id="L36">        checkForwardLeft(column, row);</span>
<span class="nc" id="L37">        checkBehindRight(column, row);</span>
<span class="nc" id="L38">        checkBehindLeft(column,row);</span>
<span class="nc" id="L39">    }</span>

    /**
     * checks if squares diagonally (white: forward-right, black: backwards-left) are valid
     * if so adds them to list of valid squares
     * @param column current column position of the bishop
     * @param row current row position of the bsihop
     */
    private void checkForwardRight(int column, int row){

        boolean oppositeIsWhite;

<span class="nc bnc" id="L51" title="All 2 branches missed.">        if (isWhite){</span>
<span class="nc" id="L52">            oppositeIsWhite = false;</span>
        } else {
<span class="nc" id="L54">            oppositeIsWhite = true;</span>
        }

<span class="nc bnc" id="L57" title="All 4 branches missed.">        for (int i = 1; i &lt;= 8 - column &amp;&amp; i &lt;= 8 - row; i++){</span>
<span class="nc" id="L58">            Square nextForwardRight = board.getSquare(column + i, row + i);</span>
<span class="nc bnc" id="L59" title="All 2 branches missed.">            if (!(nextForwardRight.isOccupied())){</span>
<span class="nc" id="L60">                legalNextSquares.add(nextForwardRight);</span>
<span class="nc bnc" id="L61" title="All 4 branches missed.">            } else if (nextForwardRight.isOccupied() &amp;&amp; nextForwardRight.getOccupier().isWhite == oppositeIsWhite){</span>
<span class="nc" id="L62">                legalNextSquares.add(nextForwardRight);</span>
<span class="nc" id="L63">                break;</span>
            }
            else {
                break;
            }
        }

<span class="nc" id="L70">    }</span>

    /**
     * checks if squares diagonally (white: forward-left, black: backwards-right) are valid
     * if so adds them to list of valid squares
     * @param column current column position of the bishop
     * @param row current row position of the bsihop
     */
    private void checkForwardLeft(int column, int row){

        boolean oppositeIsWhite;

<span class="nc bnc" id="L82" title="All 2 branches missed.">        if (isWhite){</span>
<span class="nc" id="L83">            oppositeIsWhite = false;</span>
        } else {
<span class="nc" id="L85">            oppositeIsWhite = true;</span>
        }

<span class="nc bnc" id="L88" title="All 4 branches missed.">        for (int i = 1; i &lt; column &amp;&amp; i &lt;= 8 - row; i++){</span>
<span class="nc" id="L89">            Square nextForwardLeft = board.getSquare(column - i, row + i);</span>
<span class="nc bnc" id="L90" title="All 2 branches missed.">            if (!(nextForwardLeft.isOccupied())){</span>
<span class="nc" id="L91">                legalNextSquares.add(nextForwardLeft);</span>
<span class="nc bnc" id="L92" title="All 4 branches missed.">            } else if (nextForwardLeft.isOccupied() &amp;&amp; nextForwardLeft.getOccupier().isWhite == oppositeIsWhite){</span>
<span class="nc" id="L93">                legalNextSquares.add(nextForwardLeft);</span>
<span class="nc" id="L94">                break;</span>
            }
            else {
                break;
            }
        }

<span class="nc" id="L101">    }</span>

    /**
     * checks if squares diagonally (white: backwards-right, black: forward-left) are valid
     * if so adds them to list of valid squares
     * @param column current column position of the bishop
     * @param row current row position of the bsihop
     */
    private void checkBehindRight(int column, int row){

        boolean oppositeIsWhite;

<span class="nc bnc" id="L113" title="All 2 branches missed.">        if (isWhite){</span>
<span class="nc" id="L114">            oppositeIsWhite = false;</span>
        } else {
<span class="nc" id="L116">            oppositeIsWhite = true;</span>
        }

<span class="nc bnc" id="L119" title="All 4 branches missed.">        for (int i = 1; i &lt;= 8 - column &amp;&amp; i &lt; row; i++){</span>
<span class="nc" id="L120">            Square nextBehindRight = board.getSquare(column + i, row - i);</span>
<span class="nc bnc" id="L121" title="All 2 branches missed.">            if (!(nextBehindRight.isOccupied())){</span>
<span class="nc" id="L122">                legalNextSquares.add(nextBehindRight);</span>
<span class="nc bnc" id="L123" title="All 4 branches missed.">            } else if (nextBehindRight.isOccupied() &amp;&amp; nextBehindRight.getOccupier().isWhite == oppositeIsWhite){</span>
<span class="nc" id="L124">                legalNextSquares.add(nextBehindRight);</span>
<span class="nc" id="L125">                break;</span>
            }
            else {
                break;
            }
        }

<span class="nc" id="L132">    }</span>

    /**
     * checks if squares diagonally (white: backwards-left, black: forward-right) are valid
     * if so adds them to list of valid squares
     * @param column current column position of the bishop
     * @param row current row position of the bsihop
     */
    private void checkBehindLeft(int column, int row){

        boolean oppositeIsWhite;

<span class="nc bnc" id="L144" title="All 2 branches missed.">        if (isWhite){</span>
<span class="nc" id="L145">            oppositeIsWhite = false;</span>
        } else {
<span class="nc" id="L147">            oppositeIsWhite = true;</span>
        }

<span class="nc bnc" id="L150" title="All 4 branches missed.">        for (int i = 1; i &lt; column &amp;&amp; i &lt; row; i++){</span>
<span class="nc" id="L151">            Square nextBehindRight = board.getSquare(column - i, row - i);</span>
<span class="nc bnc" id="L152" title="All 2 branches missed.">            if (!(nextBehindRight.isOccupied())){</span>
<span class="nc" id="L153">                legalNextSquares.add(nextBehindRight);</span>
<span class="nc bnc" id="L154" title="All 4 branches missed.">            } else if (nextBehindRight.isOccupied() &amp;&amp; nextBehindRight.getOccupier().isWhite == oppositeIsWhite){</span>
<span class="nc" id="L155">                legalNextSquares.add(nextBehindRight);</span>
<span class="nc" id="L156">                break;</span>
            }
            else {
                break;
            }
        }

<span class="nc" id="L163">    }</span>

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>