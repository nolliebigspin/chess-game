<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Knight.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">schach$BoardTest.exec</a> &gt; <a href="index.source.html" class="el_package">schach.model</a> &gt; <span class="el_source">Knight.java</span></div><h1>Knight.java</h1><pre class="source lang-java linenums">package schach.model;

/**
 * Class Knight representing the chess piece knight
 */
public class Knight extends Piece {

    /**
     * Constructor defining the initial position, color and board of the knight piece
     * @param position the Square it will be placed on initially
     * @param isWhite true if white, false if black
     * @param board the board the Bishop will be placed on
     */
    public Knight(Square position, boolean isWhite, Board board) {
<span class="nc" id="L15">        super(position, isWhite, board);</span>
<span class="nc" id="L16">    }</span>

    @Override
    public String print() {
<span class="nc bnc" id="L20" title="All 2 branches missed.">        if (super.isWhite) {</span>
<span class="nc" id="L21">            return &quot;\u2658&quot;;</span>
        }
        else {
<span class="nc" id="L24">            return &quot;\u265E&quot;;</span>
        }
    }

    @Override
    public void updateLegals() {
<span class="nc" id="L30">        boolean oppositeIsWhite = checkIsWhite();</span>
<span class="nc" id="L31">        legalNextSquares.clear();</span>

<span class="nc" id="L33">        checkForwardLeft(oppositeIsWhite);</span>
<span class="nc" id="L34">        checkForwardRight(oppositeIsWhite);</span>
<span class="nc" id="L35">        checkRightForward(oppositeIsWhite);</span>
<span class="nc" id="L36">        checkRightBackward(oppositeIsWhite);</span>
<span class="nc" id="L37">        checkBackwardRight(oppositeIsWhite);</span>
<span class="nc" id="L38">        checkBackwardLeft(oppositeIsWhite);</span>
<span class="nc" id="L39">        checkLeftBackward(oppositeIsWhite);</span>
<span class="nc" id="L40">        checkLeftForward(oppositeIsWhite);</span>
<span class="nc" id="L41">    }</span>

    /**
     * checks if color of opposite player is white
     * @return opposite isWhite
     */
    private boolean checkIsWhite() {
        boolean oppositeIsWhite;
<span class="nc bnc" id="L49" title="All 2 branches missed.">        if (isWhite){</span>
<span class="nc" id="L50">            oppositeIsWhite = false;</span>
        } else {
<span class="nc" id="L52">            oppositeIsWhite = true;</span>
        }
<span class="nc" id="L54">        return oppositeIsWhite;</span>
    }

    /**
     * checks if a next Square is out of Board matrix
     * @param nextSquare the Square which is checked
     * @return boolean if Square is in bounds or out of bounds
     */
    private boolean checkIsOutOfBounds(Square nextSquare) {
<span class="nc" id="L63">        boolean isOutOfBounds = false;</span>
<span class="nc bnc" id="L64" title="All 8 branches missed.">        if (nextSquare.getRow() &lt; 1 || nextSquare.getRow() &gt; 8 || nextSquare.getColumn() &lt; 1 || nextSquare.getColumn() &gt; 8) {</span>
<span class="nc" id="L65">            isOutOfBounds = true;</span>
        }
<span class="nc" id="L67">        return isOutOfBounds;</span>
    }

    /**
     * checks if the next Square ForwardLeft is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkForwardLeft(boolean oppositeIsWhite) {
<span class="nc" id="L75">        Square nextSquare = board.getSquare(position.getColumn() + 2, position.getRow() - 1);</span>

<span class="nc bnc" id="L77" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L78">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L79" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L80">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L82">    }</span>

    /**
     * checks if the next Square ForwardRight is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkForwardRight(boolean oppositeIsWhite) {
<span class="nc" id="L89">        Square nextSquare = board.getSquare(position.getColumn() + 2, position.getRow() + 1);</span>

<span class="nc bnc" id="L91" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L92">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L93" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L94">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L96">    }</span>

    /**
     * checks if the next Square RightForward is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkRightForward(boolean oppositeIsWhite) {
<span class="nc" id="L103">        Square nextSquare = board.getSquare(position.getColumn() + 1, position.getRow() + 2);</span>

<span class="nc bnc" id="L105" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L106">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L107" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L108">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L110">    }</span>

    /**
     * checks if the next Square RightBackward is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkRightBackward(boolean oppositeIsWhite) {
<span class="nc" id="L117">        Square nextSquare = board.getSquare(position.getColumn() - 1, position.getRow() + 2);</span>

<span class="nc bnc" id="L119" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L120">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L121" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L122">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L124">    }</span>

    /**
     * checks if the next Square BackwardRight is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkBackwardRight(boolean oppositeIsWhite) {
<span class="nc" id="L131">        Square nextSquare = board.getSquare(position.getColumn() - 2, position.getRow() + 1);</span>

<span class="nc bnc" id="L133" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L134">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L135" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L136">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L138">    }</span>

    /**
     * checks if the next Square BackwardLeft is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkBackwardLeft(boolean oppositeIsWhite) {
<span class="nc" id="L145">        Square nextSquare = board.getSquare(position.getColumn() - 2, position.getRow() - 1);</span>

<span class="nc bnc" id="L147" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L148">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L149" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L150">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L152">    }</span>

    /**
     * checks if the next Square LeftBackward is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkLeftBackward(boolean oppositeIsWhite) {
<span class="nc" id="L159">        Square nextSquare = board.getSquare(position.getColumn() - 1, position.getRow() - 2);</span>

<span class="nc bnc" id="L161" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L162">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L163" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L164">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L166">    }</span>

    /**
     * checks if the next Square LeftForward is reachable or if it's occupied by your own color
     * @param oppositeIsWhite if the color of the opponent is white or not
     */
    private void checkLeftForward(boolean oppositeIsWhite) {
<span class="nc" id="L173">        Square nextSquare = board.getSquare(position.getColumn() + 1, position.getRow() - 2);</span>

<span class="nc bnc" id="L175" title="All 4 branches missed.">        if (!nextSquare.isOccupied() &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L176">            legalNextSquares.add(nextSquare);</span>
<span class="nc bnc" id="L177" title="All 6 branches missed.">        } else if (nextSquare.isOccupied() &amp;&amp; nextSquare.getOccupier().isWhite == oppositeIsWhite &amp;&amp; !checkIsOutOfBounds(nextSquare)) {</span>
<span class="nc" id="L178">            legalNextSquares.add(nextSquare);</span>
        }
<span class="nc" id="L180">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>